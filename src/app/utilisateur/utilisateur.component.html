<ion-content class="ion-padding">
  <div class="auth-container">
    <img src="assets/logo.png" alt="Logo" class="logo">
    <h2>{{ isEditing ? 'Modifier Utilisateur' : 'Ajouter Utilisateur' }}</h2>
    
    <form [formGroup]="utilisateurForm" (ngSubmit)="onSubmit()">
      <ion-item class="form-item">
        <i class="fas fa-user icon-orange" slot="start"></i>
        <ion-input id="nom" formControlName="nom" type="text" placeholder="Nom"></ion-input>
      </ion-item>
      
      <ion-item class="form-item">
        <i class="fas fa-user icon-orange" slot="start"></i>
        <ion-input id="prenom" formControlName="prenom" type="text" placeholder="Prénom"></ion-input>
      </ion-item>
      
      <ion-item class="form-item">
        <i class="fas fa-envelope icon-orange" slot="start"></i>
        <ion-input id="email" formControlName="email" type="email" placeholder="Email"></ion-input>
      </ion-item>
      
      <ion-item class="form-item">
        <i class="fas fa-phone icon-orange" slot="start"></i>
        <ion-input id="telephone" formControlName="telephone" type="text" placeholder="Téléphone"></ion-input>
      </ion-item>
      
      <ion-item class="form-item">
        <i class="fas fa-lock icon-orange" slot="start"></i>
        <ion-input id="motDePasse" formControlName="motDePasse" type="password" placeholder="Mot de Passe"></ion-input>
        <i class="fas fa-eye-slash icon-orange" slot="end"></i>
      </ion-item>
      
      <!-- <ion-item class="form-item">
        <i class="fas fa-user-tag icon-orange" slot="start"></i>
        <ion-select id="roleId" formControlName="roleId" placeholder="Sélectionner un rôle">
          <ion-select-option *ngFor="let role of roles" [value]="role.id">{{ role.role }}</ion-select-option>
        </ion-select>
      </ion-item> -->
      
      <ion-button expand="block" type="submit">{{ isEditing ? 'Modifier' : 'Ajouter' }}</ion-button>
    </form>
    
    <hr />
    
    <h2>Liste des Utilisateurs</h2>
    <ion-grid>
      <ion-row>
        <ion-col size="2"><strong>Nom</strong></ion-col>
        <ion-col size="2"><strong>Prénom</strong></ion-col>
        <ion-col size="3"><strong>Email</strong></ion-col>
        <ion-col size="2"><strong>Téléphone</strong></ion-col>
        <ion-col size="2"><strong>Rôle</strong></ion-col>
        <ion-col size="1"><strong>Actions</strong></ion-col>
      </ion-row>
      
      <ion-row *ngFor="let user of utilisateurs">
        <ion-col size="2">{{ user.nom }}</ion-col>
        <ion-col size="2">{{ user.prenom }}</ion-col>
        <ion-col size="3">{{ user.email }}</ion-col>
        <ion-col size="2">{{ user.telephone }}</ion-col>
        
        <ion-col size="1">
          <ion-button size="small" (click)="editUser(user)" color="warning">Éditer</ion-button>
          <ion-button size="small" *ngIf="user.id !== undefined" (click)="deleteUser(user.id)" color="danger">Supprimer</ion-button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
</ion-content>
